<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PMRT Tool</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link href="styles" rel="stylesheet">

<style>
	sup {
  color: rgb(207, 57, 57);
  font-size: 1em;
  vertical-align: sub;
}

	</style>

  </head>
  <body>


<div class="container-fluid">


<div>
   <table class="topheader">
       <tr>
           <td>
           <image src="https://cuccuanl.com/wp-content/uploads/2023/02/CITYPNG.COMPNG-Breast-Cancer-Awareness-Ribbon-Clipart-920x1158-1.png" alt="breastcancerlogo" width="100"
  height="80">
           </image>
           <td>
           <td>
    <h1>PMRT Neoadyuvant Decision Tool</h1>
       <td>
       <tr>
   </table>
    </div>
  <p class="subtitle">This software computes the algorithm used at MD Anderson Cancer Center when making desicions on whether PMRT is indicated in the scenario that neoadyuvant chemotherapy was used. This algorithm was developed at the University of Texas M. D. Anderson Cancer Center and is in the process of internal validation.</p>



 <!-- Question 11 Size largest node -->
 <div>
    <div>
   <h5>Initial size of the tumor (in centimeters) <sup>*</sup></h5>
    <input type ="number"  id="tumorsize" required><br>
        </div>
      </div>



<!-- Question 10 ECE -->
<div>
    <h5>Menopausal Status <sup>*</sup> </h5>
</div>
  <div>
<input type="radio" class="btn-check" name="meno" id="meno1" value="1" autocomplete="off" required>
<label class="btn btn-secondary" for="meno1">Premenopausal</label>

<input type="radio" class="btn-check" name="meno" id="meno2" value="0" autocomplete="off" required>
<label class="btn btn-secondary" for="meno2">Postmenopausal</label>
      </div>
      
      <!-- Question 14 Location -->
        <div>
            <h5>Location<sup>*</sup></h5>
        </div>
          <div>
        <input type="radio" class="btn-check" name="location" id="location1" value="1" autocomplete="off">
        <label class="btn btn-secondary" for="location1">Medial</label>
        
        <input type="radio" class="btn-check" name="location" id="location2" value="0" autocomplete="off">
        <label class="btn btn-secondary" for="location2">Central</label>
        
              <input type="radio" class="btn-check" name="location" id="location3" value="0" autocomplete="off">
        <label class="btn btn-secondary" for="location3">Lateral</label>
              </div>
        

      <!-- Question 9 LVSI -->
      <div>
        <h5>LVSI<sup>*</sup></h5>
    </div>
      <div>
    <input type="radio" class="btn-check" name="lvsi" id="lvsi1" value="1" autocomplete="off">
    <label class="btn btn-secondary" for="lvsi1">Yes</label>
    
    <input type="radio" class="btn-check" name="lvsi" id="lvsi2" value="0" autocomplete="off">
    <label class="btn btn-secondary" for="lvsi2">No</label>
    
    
          </div>


        <!-- Question 12 ki67 -->
        <div>
            <div>
           <h5>Ki-67<sup>*</sup></h5>
            <input type ="number"  id="ki67"><br>
                </div>
              </div>   
              
              
     <!-- Question 8 Grade -->
     <div>
        <h5>Grade<sup>*</sup></h5>
    </div>
      <div>
    <input type="radio" class="btn-check" name="grade" id="grade1" value="1" autocomplete="off">
    <label class="btn btn-secondary" for="grade1">1</label>
    
    <input type="radio" class="btn-check" name="grade" id="grade2" value="2" autocomplete="off">
    <label class="btn btn-secondary" for="grade2">2</label>
    
          <input type="radio" class="btn-check" name="grade" id="grade3" value="3" autocomplete="off">
    <label class="btn btn-secondary" for="grade3">3</label>
          </div>
    
<!-- Question 6 Estrogen receptor -->
<div>
    <div>
   <h5>% of Positive Estrogen Receptor<sup>*</sup></h5>
    <input type ="number"  id="estrogenrec"><br>
        </div>
      </div>



      <!-- Question 7 Her2status -->
      <div>
        <h5>Her 2 neu status<sup>*</sup></h5>
    </div>
      <div>
    <input type="radio" class="btn-check" name="her" id="her1" value="1" autocomplete="off">
    <label class="btn btn-secondary" for="her1">Positive</label>
    
    <input type="radio" class="btn-check" name="her" id="her2" value="0" autocomplete="off">
    <label class="btn btn-secondary" for="her2">Negative</label>
          </div>



       <!-- Question 4 Number of positive nodes -->
<div>
    <div>
   <h5>Number of clinical positive lymph nodes<sup>*</sup></h5>
    <input type ="number"  id="numberclin"><br>
        </div>
      </div>

<!-- Question 5 Number of positive nodes at path nodes -->
<div>
    <div>
   <h5>Number of pathological positive nodes<sup>*</sup></h5>
    <input type ="number"  id="numberpath"><br>
        </div>
      </div>




      <!-- Question 15 Sentinel Node -->
      <div>
        <h5>Was there a pathological complete response?<sup>*</sup></h5>
    </div>
      <div>
    <input type="radio" class="btn-check" name="pathresp" id="pathresp1" value="0" autocomplete="off">
    <label class="btn btn-secondary" for="pathresp1">Yes</label>
    
    <input type="radio" class="btn-check" name="pathresp" id="pathresp2" value="1" autocomplete="off">
    <label class="btn btn-secondary" for="pathresp2">No</label>
    
    
          </div>
          <br>

 



<!-- Button -->
</div>
</div>
  <button type="button" class="btn btn-outline-secondary" value="Calculate" onclick="validate_form();">Calculate</button>

  </form>

<h3 id="mensajefinal">
Based on the data we would recommend:
</h3>


<script type="text/javascript">
    
    function validate_form() {
        event.preventDefault();
  // Get the values of the required fields
  var field1 = document.getElementById('tumorsize')?.value ?? "";
  var field2 = document.querySelector('input[name="meno"]:checked')?.value ?? "";
  var field3 = document.querySelector('input[name="location"]:checked')?.value ?? "";
  var field4 = document.querySelector('input[name="lvsi"]:checked')?.value ?? "";
  var field5 = document.getElementById('ki67')?.value ?? "";
  var field6 = document.querySelector('input[name="grade"]:checked')?.value ?? "";
  var field7 = document.getElementById('estrogenrec')?.value ?? "";
  var field8 = document.querySelector('input[name="her"]:checked')?.value ?? "";
  var field9 = document.getElementById('numberclin')?.value ?? "";
  var field10 = document.getElementById('numberpath')?.value ?? "";
  var field11 = document.querySelector('input[name="pathresp"]:checked')?.value ?? "";
  // Check if any of the fields is empty
  if (field1 == "" || field2 == "" || field3 == "" || field4 == "" || field5 == "" || field6 == "" || field7 == "" || field8 == "" || field9 == "" || field10 == "" || field11 == "") {
    alert("Please fill out all required fields");
  } else {
    // All required fields are filled, call the write_name function
    write_name();
  }
}
    
    
function write_name() {
event.preventDefault();


var tstage = 0;
var tumorsize = document.getElementById('tumorsize').value;
if (tumorsize <= 2){tstage=1}
else if (tumorsize >2 && tumorsize <=5){tstage=2}
else if (tumorsize > 5){tstage=3};
tasriskfact=0;
if(tumorsize >=4 && tstage==2){tasriskfact=1};

var meno = document.querySelector('input[name="meno"]:checked').value;

var lvsi = document.querySelector('input[name="lvsi"]:checked').value;

var ki67 = document.getElementById('ki67').value;
var grade = document.querySelector('input[name="grade"]:checked').value;
var gradesubscore = 0;
if (grade==3 || ki67>35){gradesubscore=1};

var estrogenrec = document.getElementById('estrogenrec').value;
var her2 = document.querySelector('input[name="her"]:checked').value;
var estrogenrecsubscore = 0;
if (estrogenrec <= 10 && her2 == 0) {estrogenrecsubscore=1};



var numberclin = document.getElementById('numberclin').value;
var numberpath = document.getElementById('numberpath').value;
var lymphnodestatus = 0
if (numberclin > 0 || numberpath > 0) {lymphnodestatus = 1};



var location = document.querySelector('input[name="location"]:checked').value;

var pathresponse = document.querySelector('input[name="pathresp"]:checked').value;


var mensajefinal = document.getElementById("mensajefinal");




var sumriskfactors = Number(tasriskfact) + Number(meno) + Number(lvsi) + Number(gradesubscore) + Number(estrogenrecsubscore) + Number(location) + Number(pathresponse);

var T2N0desicion = 0;
if(tstage == 2 && sumriskfactors >= 3){T2N0desicion=1};

if (tstage>=3 || lymphnodestatus >= 1 || T2N0desicion == 1){
mensajefinal.innerHTML = "Based on the data we would recommend PMRT + RNI";
}
else if (tstage==1 || T2N0desicion==0) {
    mensajefinal.innerHTML = "Based on the data we would recommend no radiation is needed";

}
else {
    mensajefinal.innerHTML = "It seens there was an error";

};

alert("tstage: " + tstage + "\nlymphnodestatus: " + lymphnodestatus + "\nT2N0desicion: " + T2N0desicion);
    }


</script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
 </div>

  </body>
</html>